plugins {
    id "me.champeau.gradle.jmh" version "0.3.0"   // https://github.com/melix/jmh-gradle-plugin
}

apply plugin: 'java'

sourceCompatibility = '1.8'
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

jmh {
    jmhVersion '1.12'   // http://openjdk.java.net/projects/code-tools/jmh/
    if (project.hasProperty('jmh.benchmark')) {
        include = '.*' + project.property('jmh.benchmark') + '.*'
    }

    // NOTE: These parameters have been set to reduce runtime during a live demo.
    //       You probably want to run more/longer iterations, for both warmup and real measurements.
    iterations 5
    warmupIterations 3
}
